webpackJsonp([2],{"1TdJ":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{attrs:{src:t.url}})])},r=[],i={render:a,staticRenderFns:r};e.a=i},AbH1:function(t,e,n){"use strict";var a=n("nQzn"),r=n("NLzO"),i=n("VU/8"),s=i(a.a,r.a,null,null,null);e.a=s.exports},CFyg:function(t,e,n){"use strict";var a=n("F2eU"),r=n("Xa6B"),i=n("VU/8"),s=i(a.a,r.a,null,null,null);e.a=s.exports},F2eU:function(t,e,n){"use strict";var a=n("ZnLv"),r=n.n(a),i=n("AbH1"),s=n("QG5F"),o=n("Y4FN"),c=n.n(o);e.a={data:function(){return{patterns:["Scale","Interval"],pattern:"Interval",intervals:["Whole Note","Half Note","Quarter Note","Eighth Note","Sixteenth Note"],interval:"Whole Note",keys:["C","G","D","A","E","B","Gb","Db","Ab","Eb","Bb","F"],key:"C",root_note:1,octaves:1,octave_start:4,bpm:120,playing:!0,upanddown:!0,notes:[]}},components:{Updown:i.a,Score:s.a},computed:{bpmtext:function(){return""+this.bpm},interval_int:function(){var t=this.intervals.indexOf(this.interval);return parseInt(Math.pow(2,t))},scale_degree:function(){var t=["Tonic","Supertonic","Mediant","Subdominant","Dominant","Submediant","Leading tone","Tonic"],e="th";return 1==this.root_note?e="st":2==this.root_note?e="nd":3==this.root_note&&(e="rd"),""+this.root_note+e+" ("+t[this.root_note]+")"}},mounted:function(){var t=this,e=this;this.synth=new r.a.Synth({envelope:{attack:.01,decay:100,sustain:1}}).toMaster();var n=c.a.get("practice_data");n&&(n.forEach(function(t){e[t.key]=t.value}),console.log("Restored previous data")),r.a.Transport.start();var a="key pattern octaves octave_start interval upanddown root_note".split(" "),i=function(){e.p&&e.p.stop(),e.p=e.createPattern(),e.p.start(),c.a.set("practice_data",a.map(function(t){return{key:t,value:e[t]}}))};i(),a.forEach(function(e){t.$watch(e,i)}),this.$watch("bpm",function(){r.a.Transport.bpm.value=e.bpm}),r.a.Transport.bpm.value=e.bpm},destroyed:function(){this.p&&this.p.stop()},methods:{pauseplay:function(){this.p&&(this.playing?r.a.Transport.stop():r.a.Transport.start(),this.playing=!this.playing)},createPattern:function(){var t;t="Scale"==this.pattern?this.scale():this.interval_pattern(),this.upanddown&&(t=t.slice().concat(t.slice().reverse()));var e=this,n=new r.a.Pattern(function(t,n){e.synth.triggerAttackRelease(n,e.interval_int+"n",t)},t,"up");return this.notes=t,n.interval=this.interval_int+"n",n},incrList:function(t,e,n){var a=n.indexOf(e);for(a+=t;a<0;)a=n.length+a;return a%=n.length,n[a]},incrInt:function(t,e,n){for(e+=t;e<0;)e=n+e;return e%n},incrKey:function(t){this.key=this.incrList(t,this.key,this.keys)},incrNote:function(t){this.root_note=this.incrInt(t,this.root_note-1,8)+1},incrOctaves:function(t){var e=this.octaves+t;e<1||e>3||(this.octaves=e)},incrOctaveStart:function(t){var e=this.octave_start+t;e<1||e>5||(this.octave_start=e)},interval_pattern:function(){var t=this.scale(1),e=t[this.root_note-1],n=[e];return t.forEach(function(t){t!=e&&(n.push(t),t!==e&&n.push(e))}),n},scale:function(t){t||(t=this.root_note);for(var e=this.key+this.octave_start,n=this.octaves,a=[2,2,1,2,2,2,1],i=0,e=new r.a.Frequency(e),s=1;s<t;++s){var o=a[i];e=e.transpose(o),i=(i+1)%a.length}for(var c=[e.toNote()],s=0;s<n;++s)for(var l=0;l<a.length;++l){var o=a[i];i=(i+1)%a.length,e=e.transpose(o),c.push(e.toNote())}return c}}}},M93x:function(t,e,n){"use strict";var a=n("xJD8"),r=n("f+li"),i=n("VU/8"),s=i(a.a,r.a,null,null,null);e.a=s.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r=n("M93x"),i=n("YaEn");a.a.config.productionTip=!1,new a.a({el:"#app",router:i.a,template:"<App/>",components:{App:r.a}})},NLzO:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-btn",{on:{click:function(e){t.emit("down")}}},[t._v(t._s(t.prefix)+" Down")]),n("v-btn",{on:{click:function(e){t.emit("up")}}},[t._v(t._s(t.prefix)+" Up")])],1)},r=[],i={render:a,staticRenderFns:r};e.a=i},QG5F:function(t,e,n){"use strict";var a=n("c52X"),r=n("1TdJ"),i=n("VU/8"),s=i(a.a,r.a,null,null,null);e.a=s.exports},Xa6B:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"practice"},[n("div",[t._v("\r\n    Use left and right arrow keys to change first note. Use up and down arrow keys to change the note value.\r\n  ")]),t._v(" "),n("v-btn",{on:{click:function(e){t.pauseplay()}}},[t._v("Play/Pause")]),t._v(" "),n("v-slider",{attrs:{min:"90",max:"180","thumb-label":"","persistent-hint":"",label:t.bpmtext,hint:"BPM",step:"1"},model:{value:t.bpm,callback:function(e){t.bpm=e},expression:"bpm"}}),t._v(" "),n("v-select",{attrs:{items:t.patterns,hint:"Select Pattern","single-line":"",bottom:"","persistent-hint":""},model:{value:t.pattern,callback:function(e){t.pattern=e},expression:"pattern"}}),t._v(" "),n("v-divider"),t._v(" "),n("v-select",{attrs:{items:t.keys,hint:"Select Key","single-line":"",bottom:"","persistent-hint":""},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}}),t._v(" "),n("Updown",{attrs:{prefix:"Key"},on:{down:function(e){t.incrKey(-1)},up:function(e){t.incrKey(1)}}}),t._v(" "),n("v-select",{attrs:{items:t.intervals,hint:"Note Value","single-line":"",bottom:"","persistent-hint":""},model:{value:t.interval,callback:function(e){t.interval=e},expression:"interval"}}),t._v(" "),n("v-divider"),t._v(" "),n("div",[t._v("Root Note: "+t._s(t.scale_degree))]),t._v(" "),n("Updown",{attrs:{prefix:"Root Note"},on:{down:function(e){t.incrNote(-1)},up:function(e){t.incrNote(1)}}}),t._v(" "),n("v-divider"),t._v(" "),n("div",[t._v("Root note starts in octave (4 is middle C): "+t._s(t.octave_start))]),t._v(" "),n("Updown",{attrs:{prefix:"Octave Start"},on:{down:function(e){t.incrOctaveStart(-1)},up:function(e){t.incrOctaveStart(1)}}}),t._v(" "),n("div",[t._v("Number of Octaves: "+t._s(t.octaves))]),t._v(" "),n("Updown",{attrs:{prefix:"Octave Count"},on:{down:function(e){t.incrOctaves(-1)},up:function(e){t.incrOctaves(1)}}}),t._v(" "),n("v-divider"),t._v(" "),n("v-checkbox",{attrs:{label:"Up and Down"},model:{value:t.upanddown,callback:function(e){t.upanddown=e},expression:"upanddown"}}),t._v(" "),t._m(0),t._v(" "),n("Score",{attrs:{notes:t.notes,keysig:t.key,interval:t.interval_int}}),t._v(" "),n("div",{staticClass:"metronome"})],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{attrs:{id:"scale"}})])}],i={render:a,staticRenderFns:r};e.a=i},YaEn:function(t,e,n){"use strict";var a=n("7+uW"),r=n("/ocq"),i=n("CFyg"),s=n("3EgV"),o=n.n(s);n.e(0).then(n.bind(null,"7zck")),a.a.use(r.a),a.a.use(o.a),e.a=new r.a({routes:[{path:"/",name:"Practice",component:i.a}]})},c52X:function(t,e,n){"use strict";e.a={props:["notes","interval","keysig"],mounted:function(){this.drawScale()},data:function(){return{lilynotes:[],url:""}},watch:{notes:function(){this.drawScale()}},methods:{drawScale:function(){var t={"C#":"Db","D#":"Eb","E#":"F","F#":"Gb","G#":"Ab","A#":"Bb","B#":"C"},e=this.notes,n=this.interval,a=this.keysig,r=-1!=a.indexOf("b");a=a.replace("#","is"),a=a.replace("b","es");var i=[];e.forEach(function(e){if(r){var s=e.replace(/[0-9]+/,"");t[s]&&(e=t[s]+e.substr(2)),"Ges"==a&&"B"==s&&(e="Cb'"+e.substr(1))}"F"==a&&"A#"==e.substr(0,2)&&(e="Bb"+e.substr(2)),e=e.replace("#","is"),e=e.replace("b","es"),e=e.toLowerCase(),e=e.replace("3",""),e=e.replace("4","'"),e=e.replace("5","''"),e=e.replace("6","'''"),e=e.replace("7","''''"),e+=n,i.push(e)});var e=i.join(" ");this.lilynotes=e;var s=this.$el.offsetWidth/600,o=parseInt(72*s);this.url="http://washucsc.org:3001/song.png?key="+a.toLowerCase()+"&dpi="+o+"&notes="+encodeURIComponent(e)}}}},"f+li":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"example-1",toolbar:"",footer:""}},[n("v-toolbar",{staticClass:"indigo",attrs:{dark:"",fixed:""}},[n("v-toolbar-title",[t._v("Practice App")])],1),t._v(" "),n("main",[n("v-container",{attrs:{fluid:""}},[n("router-view")],1)],1),t._v(" "),n("v-footer",{staticClass:"indigo"},[n("span",{staticClass:"white--text"},[t._v("Â© 2017")])])],1)},r=[],i={render:a,staticRenderFns:r};e.a=i},nQzn:function(t,e,n){"use strict";e.a={props:["prefix"],methods:{emit:function(t){this.$emit(t)}}}},xJD8:function(t,e,n){"use strict";e.a={name:"app",data:function(){return{drawer:!1}}}}},["NHnr"]);
//# sourceMappingURL=app.c99442fd8804eb1d4c99.js.map